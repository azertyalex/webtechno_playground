{"version":3,"file":"Article-678d79d4.js","sources":["../src/routes/Article.svelte"],"sourcesContent":["<script context=\"module\">\n  let item = {};\n\n  export function preload(req) {\n    console.log(\"~> preload\");\n    // return load(req.params.title).then(obj => item = obj);\n  }\n</script>\n\n<script>\n  // Comes from App (router)\n  export let params = {};\n  let post = {title:\"\", body:\"\"};\n  // return fetch(`https://sapper-template.now.sh/blog/${title}.json`).then(r => r.json());\n  window.gun\n    .get(\"posts\")\n    .map()\n    .once(p => {\n      if (params.title == p.id) {\n        post = p;\n      }\n\t});\n\t\n\twindow.gun\n        .get(\"posts\")\n        .map()\n        .on(p => {\n\t\tconsole.log(params.title)\n\t\tif (p != null && params.title == p.id) {\n\t\t\tconsole.log(\"pooop\")\n            post.gunId = p._[\"#\"];\n            post.title = p.title;\n\t\t\tpost.body = p.body;\n\t\t\tconsole.log(post)\n          }\n        });\n  // Initial value (preload)\n\n  // Reactively update `post` value\n  // $: if (params.title) load(params.title).then(obj => { post = obj });\n\n  function deletePost() {\n      // console.log(\"deleting\", this.$route.params.uid)\n      window.gun\n        .get(\"posts\")\n        .get(params.title)\n        .put(null);\n      // this.$router.push({path: 'blog-home'})\n      window.location = \"/blog\";\n      // window.location =\n    }\n\n</script>\n\n<style>\n  /*\n\t\tBy default, CSS is locally scoped to the component,\n\t\tand any unused styles are dead-code-eliminated.\n\t\tIn this page, Svelte can't know which elements are\n\t\tgoing to appear inside the {{{post.html}}} block,\n\t\tso we have to use the :global(...) modifier to target\n\t\tall elements inside .content\n\t*/\n  .content :global(h2) {\n    font-size: 1.4em;\n    font-weight: 500;\n  }\n  .content :global(pre) {\n    background-color: #f9f9f9;\n    box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.05);\n    padding: 0.5em;\n    border-radius: 2px;\n    overflow-x: auto;\n  }\n  .content :global(pre) :global(code) {\n    background-color: transparent;\n    padding: 0;\n  }\n  .content :global(ul) {\n    line-height: 1.5;\n  }\n  .content :global(li) {\n    margin: 0 0 0.5em 0;\n  }\n</style>\n\n<svelte:head>\n  <title>{post.title}</title>\n</svelte:head>\n\n<h1>{post.title}</h1>\n\n<div class=\"content\">\n  {post.body}\n</div>\n\n<button on:click=\"{deletePost}\">Delete</button>"],"names":[],"mappings":";;;;;;;;yCA0FK,IAAI,CAAC,KAAK,8BAGZ,IAAI,CAAC,IAAI;;oCANF,IAAI,CAAC,KAAK;;;;;;;;;;;;;;;;;yCASD,UAAU;;;;;;;;;;;;;;;;;;;4DATnB,IAAI,CAAC,KAAK;;;;sDAGf,IAAI,CAAC,KAAK;;;;sDAGZ,IAAI,CAAC,IAAI;;;;;;;;;;;;;;;;;;;;;;;AA1FH,SAAS,OAAO,CAAC,GAAG,EAAE;EAC3B,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;;CAE3B;;;;EAKM,MAAI,MAAM,GAAG,cAAE,CAAC;EACvB,IAAI,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;;EAE/B,MAAM,CAAC,GAAG;KACP,GAAG,CAAC,OAAO,CAAC;KACZ,GAAG,EAAE;KACL,IAAI,CAAC,CAAC,IAAI;MACT,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,EAAE,EAAE;6BACxB,IAAI,GAAG,EAAC,CAAC;OACV;EACL,CAAC,CAAC;;CAEH,MAAM,CAAC,GAAG;SACF,GAAG,CAAC,OAAO,CAAC;SACZ,GAAG,EAAE;SACL,EAAE,CAAC,CAAC,IAAI;EACf,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAC;EACzB,IAAI,CAAC,IAAI,IAAI,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,EAAE,EAAE;GACtC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAC;YACX,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,6BAAC;YACtB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,6BAAC;GAC9B,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,6BAAC;GACnB,OAAO,CAAC,GAAG,CAAC,IAAI,EAAC;WACT;SACF,CAAC,CAAC;;;;;;EAMT,SAAS,UAAU,GAAG;;MAElB,MAAM,CAAC,GAAG;SACP,GAAG,CAAC,OAAO,CAAC;SACZ,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC;SACjB,GAAG,CAAC,IAAI,CAAC,CAAC;;MAEb,MAAM,CAAC,QAAQ,GAAG,OAAO,CAAC;;KAE3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}